diff -Nru spark-2.3.0.orig/build/mvn spark-2.3.0/build/mvn
--- spark-2.3.0.orig/build/mvn	2018-02-22 19:16:38.000000000 +0000
+++ spark-2.3.0/build/mvn	2018-03-12 14:27:46.335583878 +0000
@@ -89,19 +89,6 @@
   fi
 }
 
-# Install zinc under the build/ folder
-install_zinc() {
-  local zinc_path="zinc-0.3.15/bin/zinc"
-  [ ! -f "${_DIR}/${zinc_path}" ] && ZINC_INSTALL_FLAG=1
-  local TYPESAFE_MIRROR=${TYPESAFE_MIRROR:-https://downloads.typesafe.com}
-
-  install_app \
-    "${TYPESAFE_MIRROR}/zinc/0.3.15" \
-    "zinc-0.3.15.tgz" \
-    "${zinc_path}"
-  ZINC_BIN="${_DIR}/${zinc_path}"
-}
-
 # Determine the Scala version from the root pom.xml file, set the Scala URL,
 # and, with that, download the specific version of Scala necessary under
 # the build/ folder
@@ -120,38 +107,23 @@
   SCALA_LIBRARY="$(cd "$(dirname "${scala_bin}")/../lib" && pwd)/scala-library.jar"
 }
 
-# Setup healthy defaults for the Zinc port if none were provided from
-# the environment
-ZINC_PORT=${ZINC_PORT:-"3030"}
-
 # Remove `--force` for backward compatibility.
 if [ "$1" == "--force" ]; then
   echo "WARNING: '--force' is deprecated and ignored."
   shift
 fi
 
-# Install the proper version of Scala, Zinc and Maven for the build
-install_zinc
+# Install the proper version of Scala and Maven for the build
 install_scala
 install_mvn
 
 # Reset the current working directory
 cd "${_CALLING_DIR}"
 
-# Now that zinc is ensured to be installed, check its status and, if its
-# not running or just installed, start it
-if [ -n "${ZINC_INSTALL_FLAG}" -o -z "`"${ZINC_BIN}" -status -port ${ZINC_PORT}`" ]; then
-  export ZINC_OPTS=${ZINC_OPTS:-"$_COMPILE_JVM_OPTS"}
-  "${ZINC_BIN}" -shutdown -port ${ZINC_PORT}
-  "${ZINC_BIN}" -start -port ${ZINC_PORT} \
-    -scala-compiler "${SCALA_COMPILER}" \
-    -scala-library "${SCALA_LIBRARY}" &>/dev/null
-fi
-
 # Set any `mvn` options if not already present
 export MAVEN_OPTS=${MAVEN_OPTS:-"$_COMPILE_JVM_OPTS"}
 
 echo "Using \`mvn\` from path: $MVN_BIN" 1>&2
 
 # Last, call the `mvn` command as usual
-${MVN_BIN} -DzincPort=${ZINC_PORT} "$@"
+${MVN_BIN} "$@"
diff -Nru spark-2.3.0.orig/conf/spark-env.sh spark-2.3.0/conf/spark-env.sh
--- spark-2.3.0.orig/conf/spark-env.sh	1970-01-01 00:00:00.000000000 +0000
+++ spark-2.3.0/conf/spark-env.sh	2018-03-12 14:30:25.201036857 +0000
@@ -0,0 +1,13 @@
+#!/usr/bin/env bash
+
+export SPARK_LOG_DIR="$HOME/.spark/2.3.0/log"
+export SPARK_WORKER_DIR="$SCRATCH/spark/2.3.0/$(hostname)"
+if [[ -z "$SPARK_CONF_DIR" ]]; then
+    export SPARK_CONF_DIR="$HOME/.spark/2.3.0/conf"
+    if [[ -f $SPARK_CONF_DIR/spark-env.sh ]]; then
+        . $SPARK_CONF_DIR/spark-env.sh
+    fi
+fi
+
+# MLlib uses netlib-java which is linked on MKL
+export MKL_NUM_THREADS=1
diff -Nru spark-2.3.0.orig/dev/make-distribution.sh spark-2.3.0/dev/make-distribution.sh
--- spark-2.3.0.orig/dev/make-distribution.sh	2018-02-22 19:16:38.000000000 +0000
+++ spark-2.3.0/dev/make-distribution.sh	2018-03-12 14:33:08.013451391 +0000
@@ -243,10 +243,9 @@
 fi
 
 # Copy other things
-mkdir "$DISTDIR/conf"
-cp "$SPARK_HOME"/conf/*.template "$DISTDIR/conf"
 cp "$SPARK_HOME/README.md" "$DISTDIR"
 cp -r "$SPARK_HOME/bin" "$DISTDIR"
+cp -r "$SPARK_HOME"/conf "$DISTDIR"/conf
 cp -r "$SPARK_HOME/python" "$DISTDIR"
 
 # Remove the python distribution from dist/ if we built it
diff -Nru spark-2.3.0.orig/pom.xml spark-2.3.0/pom.xml
--- spark-2.3.0.orig/pom.xml	2018-02-22 19:16:37.000000000 +0000
+++ spark-2.3.0/pom.xml	2018-03-12 14:28:49.527968515 +0000
@@ -2066,8 +2066,6 @@
           </executions>
           <configuration>
             <scalaVersion>${scala.version}</scalaVersion>
-            <recompileMode>incremental</recompileMode>
-            <useZincServer>true</useZincServer>
             <args>
               <arg>-unchecked</arg>
               <arg>-deprecation</arg>
