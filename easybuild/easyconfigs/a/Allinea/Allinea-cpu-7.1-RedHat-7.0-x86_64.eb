easyblock = 'Bundle'
name = 'Allinea-cpu'
version = '7.1'

homepage = 'http://www.allinea.com'
description = """Profiler and debugger, combining Allinea MAP and Allinea DDT."""

toolchain = {'name': 'dummy', 'version': 'dummy'}

dependencies = [ ('Allinea', '7.1') ]

# Example of templates usage
# templates = [
#    'kebnekaise.qtf',
#    'kebnekaise-gpu.qtf',
# ]

# Example of sysconfig usage
# sysconfig = 'system.config.hpc2n'

moduleclass = 'tools'

# For the conflict see bug: https://github.com/open-mpi/ompi/issues/3660
modluafooter = """
conflict ("openmpi/2.1.1")

setenv("ALLINEA_LICENCE_DIR", pathJoin("/cvmfs/restricted.computecanada.ca/config/licenses/allinea-cpu", os.getenv("CC_CLUSTER")))

add_property("type_","tools")

family("allinea")
"""
