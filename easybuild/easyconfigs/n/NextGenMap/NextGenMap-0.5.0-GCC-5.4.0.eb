easyblock = 'CMakeMake'
name = 'NextGenMap'
version = '0.5.0'

homepage = 'http://cibiv.github.io/NextGenMap/'
description = """NextGenMap (NGM) is a flexible and fast read mapping program that is more than twice as fast as BWA, while achieving a mapping sensitivity similar to Stampy or Bowtie2. """

toolchain = {'name': 'GCC', 'version': '5.4.0'}

separate_build_dir = True

source_urls = ['http://github.com/Cibiv/NextGenMap/archive/']
sources = ['%(version)s.tar.gz']

builddependencies = [('CMake', '3.4.1')]

skipsteps = ['install']
buildopts = ' && mkdir -p %(installdir)s/bin && cp -r ../%(name)s-%(version)s/bin/ngm-%(version)s/* %(installdir)s/bin'

sanity_check_paths = {
    'files': ['bin/ngm'],
    'dirs': ['bin'],
}

postinstallcmds = [ ' chmod o+x  %(installdir)s/bin/* ']

moduleclass = 'bio'
