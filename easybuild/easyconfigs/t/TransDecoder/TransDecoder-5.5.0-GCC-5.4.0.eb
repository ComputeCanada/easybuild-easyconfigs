# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel
# Modified by: Adam Huffman
# The Francis Crick Institute

easyblock = 'MakeCp'

name = 'TransDecoder'
version = '5.5.0'

homepage = 'https://transdecoder.github.io/'
description = """TransDecoder identifies candidate coding regions within transcript sequences, such as those generated by de novo RNA-Seq transcript assembly using Trinity, or constructed based on RNA-Seq alignments to the genome using Tophat and Cufflinks."""

toolchain = {'name': 'GCC', 'version': '5.4.0'}
toolchainopts = {'pic': True}

sources = ['%(name)s-v%(version)s.tar.gz']
source_urls = ['https://github.com/TransDecoder/TransDecoder/archive/']

dependencies = [
    ('Perl', '5.22.4'),
]

files_to_copy = [
    'sample_data',
    '%(name)s.lrgTests',
    (['%(name)s.LongOrfs', 'util', 'PerlLib', '%(name)s.Predict'], 'bin'),
]

modextrapaths = {'PATH': ['bin/util'], 'PERL5LIB': ['bin/PerlLib']}

sanity_check_paths = {
    'files': ['bin/%(name)s.LongOrfs', 'bin/%(name)s.Predict'],
    'dirs': ['bin/PerlLib'],
}

moduleclass = 'bio'
