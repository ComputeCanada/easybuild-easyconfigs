# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel
# Modified by: Adam Huffman
# The Francis Crick Institute

easyblock = 'MakeCp'

name = 'TransDecoder'
version = '3.0.1'

homepage = 'https://transdecoder.github.io/'
description = """TransDecoder identifies candidate coding regions within transcript sequences,
 such as those generated by de novo RNA-Seq transcript assembly using Trinity, or constructed 
 based on RNA-Seq alignments to the genome using Tophat and Cufflinks."""

toolchain = {'name': 'GCC', 'version': '5.4.0'}
toolchainopts = {'pic': True}

sources = ['v%(version)s.tar.gz']
source_urls = ['https://github.com/TransDecoder/TransDecoder/archive/']


dependencies = [
    ('Perl', '5.22.2','-nix'),
]

files_to_copy = [
    "transdecoder_plugins",
    "sample_data",
    "TransDecoder.lrgTests",
    (["TransDecoder.LongOrfs",
    "util",
    "PerlLib",
    "TransDecoder.Predict"], "bin")
]

sanity_check_paths = {
    'files': ["transdecoder_plugins/cdhit/cd-hit",
              "transdecoder_plugins/cdhit/cd-hit-est",
              "transdecoder_plugins/cdhit/cd-hit-2d",
              "transdecoder_plugins/cdhit/cd-hit-est-2d",
              "transdecoder_plugins/cdhit/cd-hit-div",
              "transdecoder_plugins/cdhit/cd-hit-454"],
    'dirs': [],
}

moduleclass = 'bio'
